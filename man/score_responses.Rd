% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/score_responses.R
\name{score_responses}
\alias{score_responses}
\title{Score open responses via multilingual spaCy similarity}
\usage{
score_responses(
  response_data,
  possible_item_scores = NULL,
  preprocessing = TRUE,
  spellcheck = TRUE,
  pos_keep = c("NOUN", "PROPN", "VERB", "ADJ", "ADV"),
  min_sim_weight = 0.8,
  n_highest_sim = 5,
  start_weight = 0.5,
  min_obs_accept = 5,
  min_certainty_accept = 0.75,
  additonal_parameters = list(preprocess_params = list(), spellcheck_params = list()),
  spacy_model = "nl_core_news_lg"
)
}
\arguments{
\item{response_data}{a data.frame or tibble with 3 columns (response_id, response, score) where response_id is the unique identifier for each response, response is the text of the response, and score is the score of the response given by a human rater (the response can be NA)}

\item{possible_item_scores}{a vector with the possible scores for the responses}

\item{preprocessing}{logical; if TRUE preprocess the text before calculating the similarity}

\item{spellcheck}{logical; if TRUE apply spellcheck the text before calculating the similarity}

\item{pos_keep}{a character vector with the parts of speech to keep}

\item{min_sim_weight}{a numeric value between 0 and 1; the minimum similarity weight to accept a similarity}

\item{n_highest_sim}{an integer value; the number of highest similarities above the min_sim_weight to accept}

\item{start_weight}{a numeric value between 0 and 1; the weight to start with for the similarity on the min_sim_weight}

\item{min_obs_accept}{an integer value; the minimum number of observations to accept a score}

\item{min_certainty_accept}{a numeric value between 0 and 1; the minimum certainty to accept a score}

\item{additonal_parameters}{a list of parameters to be passed to the function}

\item{spacy_model}{character scalar naming the spaCy language model to initialise}
}
\value{
The input response_data with additional feature, probability, and
expected-score columns.
}
\description{
This helper propagates human scores to new responses by comparing
preprocessed texts with embeddings created through spaCy language models.
Any installed model can be supplied, making it straightforward to reuse the
same pipeline for Dutch, English, or other languages.
}
\examples{
\dontrun{
library(tibble)

responses <- tibble(
  response_id = 1:4,
  response = c(
    "De rivier trad buiten haar oevers.",
    "Het water stroomde door de straten.",
    "Water levels rise quickly.",
    "The levee holds."),
  score = c(2, 2, 1, 3)
)

# Default Dutch model
score_responses(
  response_data = responses,
  possible_item_scores = 0:3
)

# Switch to an English spaCy pipeline
score_responses(
  response_data = responses,
  possible_item_scores = 0:3,
  spacy_model = "en_core_web_md"
)
}
}
